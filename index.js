!function(){"use strict";function n(n){n=n||"";var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t)}function e(n,e){if(void 0==e&&(e={fuzzy:!0}),/youtu\.?be/.test(n)){var t,o=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(t=0;t<o.length;++t)if(o[t].test(n))return o[t].exec(n)[1];if(e.fuzzy){var r=n.split(/[\/\&\?=#\.\s]/g);for(t=0;t<r.length;++t)if(/^[^#\&\?]{11}$/.test(r[t]))return r[t]}}return null}function t(){var n=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],t=arguments.length<=2||void 0===arguments[2]?"":arguments[2];document.getElementById("pretext").innerHTML=e,document.getElementById("text").innerHTML=n,document.getElementById("posttext").innerHTML=t}function o(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=Object.keys(n),t=Math.floor(Math.random()*e.length),o=e[t];return n[o]}function r(){t("Loading","",o(l)+"...")}function i(){function n(e){r(),window.fetch(e).then(function(n){return 200===n.status&&n.json()}).then(function(e){if(!e)return void t("Something went wrong..");var r=e.nextPageToken,s=e.items;if(a=c({},a,f(s)),r)console.log(Object.keys(a).length," potential winners so far"),n(h(l,r));else{console.log(Object.keys(a).length," potential winners: ",a);var u=o(a)||{},d=u.name,m=void 0===d?"Someone":d,g=u.commentId;if(!g)return void t("Something went wrong..");console.log("A winrar is ",m,"! ",g),t('<a class="link" href="'+i+"&lc="+g+'">'+m+"</a>","The winner is:","Congratulations!")}})}var i=m(),l=e(i);if(!l)return void t("Invalid URL");var a={};n(h(l))}var l=["Adjusting the odds in favor of ahstro",'Wondering what rhymes with "orange"',"Trying to be funny on the internet","Thinking about space and stuff","Wishing I was YouTube-famous","Reading YouTube-hate","Procrastinating","Just loading","Rolling 4d6"];n(":root {\n  font-family: Roboto, sans-serif;\n  font-weight: 300;\n    font-size: 16px;\n        color: #333;\n}\n\n#url,\n#button {\n  font-family: inherit;\n  font-weight: inherit;\n        color: inherit;\n}\n\n#main {\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n   -webkit-box-orient: vertical;\n   -webkit-box-direction: normal;\n       -ms-flex-direction: column;\n           flex-direction: column;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n           height: 100vh;\n}\n\n#main,\n#text {\n  font-size: 48px;\n  font-size: 3rem;\n}\n\n.search-form {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n   height: 28.8px;\n   height: 1.8rem;\n}\n\n.search-form > * {\n  font-size: 19.2px;\n  font-size: 1.2rem;\n    padding: 0 .5em;\n     border: 1px solid #c6c6c6;\n}\n\n.search-form > :first-child {\n  border-bottom-left-radius: .1em;\n     border-top-left-radius: .1em;\n}\n\n.search-form > :last-child {\n  border-bottom-right-radius: .1em;\n     border-top-right-radius: .1em;\n}\n\n#url::-webkit-input-placeholder {\n  color: #b5b5b5;\n}\n\n#url::-moz-placeholder {\n  color: #b5b5b5;\n}\n\n#url:-ms-input-placeholder {\n  color: #b5b5b5;\n}\n\n#url::placeholder {\n  color: #b5b5b5;\n}\n\n#button {\n  background-color: #f8f8f8;\n       border-left: 0;\n            cursor: pointer;\n             color: #989898;\n}\n\n#button:hover {\n  background-color: #f0f0f0;\n             color: #585858;\n}\n\n#button:active {\n  background-color: #e9e9e9;\n}\n\n.link {\n  text-decoration: none;\n      font-weight: normal;\n            color: #cc181e;\n}\n\n.link:hover {\n  text-decoration: underline;\n}\n\n#text {\n  text-align: center;\n}\n\n#posttext {\n  margin-bottom: .6em;\n}\n\n.small {\n  font-size: .5em;\n     height: 1em;\n}\n");var a=function(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n},c=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},s="AIzaSyDOKCiQtHa4f3fh--tha6ovhzJGdvQzgD0",u=100,d="https://www.googleapis.com/youtube/v3/commentThreads?part=id%2Csnippet&maxResults="+u+"&key="+s,f=function(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return n.reduce(function(n,e){var t=e.id,o=e.snippet.topLevelComment.snippet,r=o.authorDisplayName,i=o.authorChannelUrl;return c({},n,a({},i,{name:r,commentId:t}))},{})},m=function(n){return document.getElementById("url").value},h=function(){var n=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=arguments[1];return e?d+"&videoId="+n+"&pageToken="+e:d+"&videoId="+n};document.getElementById("button").addEventListener("click",i)}();
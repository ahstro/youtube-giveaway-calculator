!function(){"use strict";function e(e,n){if(void 0==n&&(n={fuzzy:!0}),/youtu\.?be/.test(e)){var t,o=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(t=0;t<o.length;++t)if(o[t].test(e))return o[t].exec(e)[1];if(n.fuzzy){var r=e.split(/[\/\&\?=#\.\s]/g);for(t=0;t<r.length;++t)if(/^[^#\&\?]{11}$/.test(r[t]))return r[t]}}return null}function n(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],t=document.getElementById("text");t.innerHTML=e,t.className=n}function t(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=Object.keys(e),t=Math.floor(Math.random()*n.length),o=n[t];return e[o]}function o(){n(t(i)+"...","loading")}function r(){function r(e){o(),window.fetch(e).then(function(e){return 200===e.status&&e.json()}).then(function(e){if(!e)return void n("Something went wrong..");var o=e.nextPageToken,s=e.items;if(l=u({},l,d(s)),o)console.log(Object.keys(l).length," potential winners so far"),r(g(a,o));else{console.log(Object.keys(l).length," potential winners: ",l);var c=t(l)||{},f=c.name,v=void 0===f?"Someone":f,h=c.commentId;if(!h)return void n("Something went wrong..");console.log("A winrar is ",v,"! ",h),n('The winner is: <a href="'+i+"&lc="+h+'">'+v+"</a>")}})}var i=f(),a=e(i);if(!a)return void n("Invalid URL");var l={};r(g(a))}var i=["Adjusting the odds in favor of ahstro",'Wondering what rhymes with "orange"',"Trying to be funny on the internet","Thinking about space and stuff","Wishing I was YouTube-famous","Reading YouTube-hate","Procrastinating","Just loading","Rolling 4d6"],a=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},l="AIzaSyDOKCiQtHa4f3fh--tha6ovhzJGdvQzgD0",s=100,c="https://www.googleapis.com/youtube/v3/commentThreads?part=id%2Csnippet&maxResults="+s+"&key="+l,d=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.reduce(function(e,n){var t=n.id,o=n.snippet.topLevelComment.snippet,r=o.authorDisplayName,i=o.authorChannelUrl;return u({},e,a({},i,{name:r,commentId:t}))},{})},f=function(e){return document.getElementById("url").value},g=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],n=arguments[1];return n?c+"&videoId="+e+"&pageToken="+n:c+"&videoId="+e};document.getElementById("button").addEventListener("click",r)}();